{"version":3,"sources":["../../src/js/components/nav-service.jsx"],"names":["NavService","props","menu","stick","icon","e","setState","state","pathname","location","rex","substr","lastIndexOf","path","replace","RegExp","fetch","url","then","r","json","payload","iconDefault","iconSize","iconFrom","labelFrom","pathFrom","className","width","height","cursor","Array","isArray","map","item","i","objectFit","React","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport urlJoin from \"url-join\";\nimport Icons from \"../icons\";\n\nexport default class NavService extends React.Component {\n  static defaultProps = {\n    url: '',\n    iconSize: 40,\n    iconDefault: 'image',\n    iconFrom: 'icon',\n    labelFrom: 'label',\n    pathFrom: 'id'\n  }\n\n  state = {\n    menu: [],\n    stick: false,\n    icon: 'chevron-right'\n  }\n\n  stick = (e) => {\n    this.setState({\n      stick: !this.state.stick,\n      icon: this.state.stick ? 'chevron-right' : 'thumb-tack'\n    });\n  }\n\n  constructor(props) {\n    super(props);\n    let { pathname } = this.props.location;\n    var rex = pathname.substr(pathname.lastIndexOf('/')) + '$';\n    this.path = pathname.replace(new RegExp(rex), '');\n  }\n\n  componentWillMount() {\n    fetch(this.props.url)\n      .then(r => r.json())\n      .then(payload => {\n        this.setState({ menu: payload });\n      });\n  }\n\n  render() {\n    let { iconDefault, iconSize, iconFrom, labelFrom, pathFrom } = this.props;\n    let { menu, stick, icon } = this.state;\n    let className = 'nav flex-column nav-side ' + (stick ? 'stick' : '');\n    return <ul className={className}>\n      <li className=\"nav-item\">\n        <div className=\"nav-link clearfix px-0\">\n          <div style={{ width: iconSize, height: iconSize }} className=\"d-flex justify-content-end align-items-center float-right\">\n            <span className=\"wrap-collapse-arrow\" style={{ cursor: 'pointer' }} onClick={this.stick}>\n              <Icons icon={icon} className=\"collapse-arrow\" />\n            </span>\n          </div>\n        </div>\n      </li>\n      {Array.isArray(menu) && menu.map((item, i) => <li className=\"nav-item\" key={i}>\n        <NavLink to={urlJoin(this.path, item[pathFrom] + '')} className=\"nav-link\" activeClassName='active'>\n          {item[iconFrom] ? <img src={item[iconFrom]} width={iconSize} height={iconSize} style={{ objectFit: 'cover' }} /> : <Icons icon={iconDefault} inline={false} width={iconSize} height={iconSize} />}\n          <span className=\"text-collapse text-nowrap\">{item[labelFrom]}</span>\n        </NavLink>\n      </li>\n      )}\n    </ul>;\n  }\n}"],"file":"nav-service.js"}