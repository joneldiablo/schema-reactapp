{"version":3,"sources":["../src/js/event-emitter.js"],"names":["EventEmitter","events","event","data","forEach","callback","eventString","id","split","e","push","rest","filter","eventId"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;IAAMA,Y;AACJ,0BAAc;AAAA;;AACZ,SAAKC,MAAL,GAAc,EAAd;AACD;;;;6BACQC,K,EAAOC,I,EAAM;AACpB,UAAI,CAAC,KAAKF,MAAL,CAAYC,KAAZ,CAAL,EAAyB;AACzB,WAAKD,MAAL,CAAYC,KAAZ,EAAmBE,OAAnB,CAA2B;AAAA;AAAA,YAAEC,QAAF;;AAAA,eAAgBA,QAAQ,CAACF,IAAD,CAAxB;AAAA,OAA3B;AACD;;;8BACSG,W,EAAaD,Q,EAAUE,E,EAAI;AAAA;;AACnC,UAAIN,MAAM,GAAGK,WAAW,CAACE,KAAZ,CAAkB,OAAlB,CAAb;AACAP,MAAAA,MAAM,CAACG,OAAP,CAAe,UAAAK,CAAC,EAAI;AAClB,YAAI,CAAC,KAAI,CAACR,MAAL,CAAYQ,CAAZ,CAAL,EAAqB,KAAI,CAACR,MAAL,CAAYQ,CAAZ,IAAiB,EAAjB;;AACrB,QAAA,KAAI,CAACR,MAAL,CAAYQ,CAAZ,EAAeC,IAAf,CAAoB,CAACL,QAAD,EAAWE,EAAX,CAApB;AACD,OAHD;AAID;;;gCACWD,W,EAAaC,E,EAAI;AAAA;;AAC3B,UAAIN,MAAM,GAAGK,WAAW,CAACE,KAAZ,CAAkB,OAAlB,CAAb;AACAP,MAAAA,MAAM,CAACG,OAAP,CAAe,UAAAK,CAAC,EAAI;AAClB,YAAI,CAAC,MAAI,CAACR,MAAL,CAAYQ,CAAZ,CAAL,EAAqB;;AACrB,YAAIE,IAAI,GAAG,MAAI,CAACV,MAAL,CAAYQ,CAAZ,EAAeG,MAAf,CAAsB;AAAA;AAAA,cAAIC,OAAJ;;AAAA,iBAAiBA,OAAO,IAAIN,EAA5B;AAAA,SAAtB,CAAX;;AACA,QAAA,MAAI,CAACN,MAAL,CAAYQ,CAAZ,IAAiBE,IAAjB;AACD,OAJD;AAKD;;;;;;eAGY,IAAIX,YAAJ,E","sourcesContent":["class EventEmitter {\n  constructor() {\n    this.events = {};\n  }\n  dispatch(event, data) {\n    if (!this.events[event]) return;\n    this.events[event].forEach(([callback]) => callback(data));\n  }\n  subscribe(eventString, callback, id) {\n    let events = eventString.split(/[ ,]+/);\n    events.forEach(e => {\n      if (!this.events[e]) this.events[e] = [];\n      this.events[e].push([callback, id]);\n    });\n  }\n  unsubscribe(eventString, id) {\n    let events = eventString.split(/[ ,]+/);\n    events.forEach(e => {\n      if (!this.events[e]) return;\n      let rest = this.events[e].filter(([, eventId]) => eventId != id);\n      this.events[e] = rest;\n    });\n  }\n}\n\nexport default new EventEmitter;"],"file":"event-emitter.js"}